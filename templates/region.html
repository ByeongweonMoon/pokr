{% extends "layout.html" %}
{% import 'macros.html' as macro with context %}

{% set fullname = region.fullname %}

{% block title %}
{{ super() }} - {{ fullname }}
{% endblock %}

{% block breadcrumb_current %}
{{ fullname|translit }}
{% endblock %}

{% block card %}
{% if not mobile %}
<img class="instance-img" src="{{ url_for('static', filename='images/default_region.png') }}">
{% endif %}
<h2 class="instance-name">{{ fullname }}</h2>
{% include 'social.html' %}
{% endblock %}

{% block content %}
{% if mobile %}
<h4 class="subsection-title">
    {{ gettext('Candidates') }}
    <small>{{ macro.list_count(region.candidates) }}</small>
</h4>
{{ macro.people_list(region.candidates, show_pagenav=False) }}
<h4 class="subsection-title">
    {{ gettext('Residents') }}
    <small>{{ macro.list_count(region.residents) }}</small>
</h4>
{{ macro.people_list(region.residents, show_pagenav=False) }}
{% else %}
<table class="table table-condensed">
    <tbody>
        <tr>
            <th>{{ gettext('Candidates') }}
                <br>{{ macro.list_count(region.candidates) }}</th>
            <td>{{ macro.people_list_more(region.candidates, url_for('search', target='people', candidacy_region_id=region.id)) }}</td>
        </tr>
        <tr>
            <th>{{ gettext('Residents') }}
                <br>{{ macro.list_count(region.residents) }}</th>
            <td>{{ macro.people_list_more(region.residents, url_for('search', target='people', residence_region_id=region.id)) }}</td>
        </tr>
    </tbody>
</table>
{% endif %}
{% endblock %}

