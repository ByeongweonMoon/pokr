{% extends 'layout.html' %}
{% import 'macros.html' as macro with context %}

{% block title %}
{{ super() }} - {{ gettext("Search by %(query)s", query=query) }}
{% endblock %}

{% block extra_headers %}
<style>
#card-container {
    display: none;
}

#spec-container {
    left: 0;
}
</style>
{% endblock %}

{% block applied_options %}
<table class="table table-condensed table-bordered">
    {% if year %}
    <tr><th class="no-min-width nowrap">{{ gettext('birthyear') }}</th><td>{{ year }}</td><td><a href="{{ url_for_query(year=None) }}">x</a></td></tr>
    {% endif %}
    {% if query %}
    <tr><th class="no-min-width nowrap">{{ gettext('query') }}</th><td>{{ query }}</td><td><a href="{{ url_for_query(query=None) }}">x</a></td></tr>
    {% endif %}
</table>
{% endblock %}

{% block content %}
<table class="table table-condensed">
    <tbody>
        <tr>
            <th>{{ gettext('People') }}</th>
            <td>{{ macro.people_list(people) }}</td>
        </tr>
        {% if parties %}
        <tr>
            <th>{{ gettext('Party') }}</th>
            <td>{% call(party) macro.list(parties, show_pagenav=False) %}
                <a href="{{ url_for('party', id=party.id) }}">{{ party.name }}</a>
                {% endcall %}
            </td>
        </tr>
        {% endif %}
        {% if schools %}
        <tr>
            <th>{{ gettext('School') }}</th>
            <td>{% call(school) macro.list(schools, show_pagenav=False) %}
                <a href="{{ url_for('search', target='people', school_id=school.id) }}">{{ school.name }}</a>
                {% endcall %}
            </td>
        </tr>
        {% endif %}
        {% if regions %}
        <tr>
            <th>{{ gettext('Region') }}</th>
            <td>{% call(region) macro.list(regions, show_pagenav=False) %}
                <span>{{ region.name }}</span>&nbsp;&nbsp;<small><a href="{{ url_for('search', target='people', candidacy_region_id=region.id) }}">{{ gettext('Candidates') }}</a>&nbsp;<a href="{{ url_for('search', target='people', residence_region_id=region.id) }}">{{ gettext('Residents') }}</a></small>
                {% endcall %}
            </td>
        </tr>
        {% endif %}
        {% if bills %}
        <tr>
            <th>{{ gettext('Bill') }}</th>
            <td>{% call(bill) macro.list(bills, show_pagenav=False) %}
                <a href="{{ url_for('bill', id=bill.id) }}">{{ bill.name }}</a>
                {% endcall %}
            </td>
        </tr>
        {% endif %}
    </tbody>
</table>
{% endblock %}
