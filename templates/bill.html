{% extends "layout.html" %}

{% block title %}
{{ super() }} - {{ bill.name }}
{% endblock %}

{% block extra_headers %}
    {% assets filters='less', output='build/bill.%(version)s.css',
        depends=['**/*.less'], 'less/bill.less' %}
    <link rel="stylesheet" href="{{ASSET_URL}}">
    {% endassets %}
{% endblock %}

{% block breadcrumb_current %}
{{ bill.name }}
{% endblock %}

{% block card %}
<img class="instance-img" src="{{ url_for('static', filename='images/default_bill.jpg') }}">
<h2 class="instance-name">#{{ bill.id }}</h2>
<div class="original-link">
    <a href="http://likms.assembly.go.kr/bill/jsp/BillDetail.jsp?bill_id={{ bill.link_id }}">{{ gettext('see official page') }}</a>
    <a href="http://likms.assembly.go.kr/bill/jsp/BillDetail.jsp?bill_id={{ bill.link_id }}" target="_blank"><i class="icon-external-link"></i></a>
</div>
{% endblock %}

{% block content %}
<h2 id="bill-name">{{ bill.name }}</h2>
<table class="table table-condensed">
    <tbody>
        {% if bill.age %}
        <tr>
            <th>{{ gettext("assembly #") }}</th>
            <td>{{ bill.age }}</td>
        </tr>
        {% endif %}
        {% if bill.proposed_date %}
        <tr>
            <th>{{ gettext("proposed date") }}</th>
            <td>{{ bill.proposed_date }}</td>
        </tr>
        {% endif %}
        {% if bill.decision_date %}
        <tr>
            <th>{{ gettext("decision date") }}</th>
            <td>{{ bill.decision_date }}</td>
        </tr>
        {% endif %}
        <tr>
            <th>{{ gettext("status") }}</th>
            <td>
            {% for status in bill.statuses %}
                {% if status.id == bill.status_id %}
                    <strong>{{ status.name }}</strong>
                {% else %}
                    {{ status.name }}
                {% endif %}
                &nbsp;
            {% endfor %}
            </td>
        </tr>
        {% if bill.sponsor %}
        <tr>
            <th>{{ gettext("sponsor") }}</th>
            <td>{{ bill.sponsor }}</td>
        </tr>
        {% endif %}
        {% if bill.cosponsors %}
        <tr>
            <th>{{ gettext("cosponsors") }}</th>
            <td>{% for cosponsor in bill.cosponsors %}{{ widgets.card(cosponsor)|safe }}{% endfor %}</td>
        </tr>
        {% endif %}
        {% if bill.summary %}
        <tr>
            <th>{{ gettext('summary') }}</th>
            <td><pre id="bill-summary">{{ bill.summary }}</pre></td>
        </tr>
        {% endif %}
    </tbody>
</table>
{% endblock %}
